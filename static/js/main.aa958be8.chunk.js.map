{"version":3,"sources":["img/spotify-logo-round.png","img/banner.png","img/github-logo.png","components/SpotifyLoginStatusButton.tsx","components/Navigation.tsx","components/Footer.tsx","pages/About/index.tsx","pages/LyricsView/sharedComponents/PlayerStatus.tsx","pages/LyricsView/Advertisement.tsx","pages/LyricsView/Error.tsx","pages/LyricsView/sharedComponents/LyricsDisplay.tsx","pages/LyricsView/Loading.tsx","pages/LyricsView/NoTrackPlaying.tsx","pages/LyricsView/TrackPlaying.tsx","pages/LyricsView/Welcome.tsx","config.ts","pages/LyricsView/index.tsx","api/index.ts","pages/NotFound/index.tsx","pages/SpotifyAuthorization/index.tsx","components/MetaTags.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","SpotifyLoginStatusButton","user","onLoggedInClick","Button","variant","onClick","navigate","src","undefined","images","length","url","SpotifyLogoRound","alt","display_name","style","height","width","className","navbarLinks","Navigation","onLogout","currentPath","usePath","goTo","location","Navbar","collapseOnSelect","expand","bg","sticky","Container","Brand","BannerImage","cursor","Toggle","aria-controls","Collapse","id","Nav","Object","keys","map","path","Link","key","href","active","window","confirm","Footer","padding","GithubLogo","About","Row","Col","ProgressSlider","withStyles","rail","borderRadius","root","color","thumb","boxShadow","backgroundColor","border","marginLeft","marginTop","track","Slider","responseError","title","request","hide","cogoToast","error","JSON","parse","responseText","message","position","heading","hideAfter","PlayerStatus","albumArtUrl","artist","album","durationMs","progressMs","isPlaying","spotifyToken","useState","progress","setProgress","userSlidingProgress","setUserSlidingProgress","smoothProgressTimer","setSmoothProgressTimer","duration","useEffect","clearTimeout","setInterval","value","Math","min","display","gridTemplateColumns","maxWidth","margin","background","Spinner","animation","IconButton","spotifyApi","SpotifyWebApi","setAccessToken","skipToPrevious","catch","e","SkipPrevious","fontSize","pause","play","PlayArrow","Pause","skipToNext","SkipNext","valueLabelDisplay","max","onMouseDown","onMouseUp","seek","onChange","event","Array","isArray","Advertisement","current","token","progress_ms","is_playing","Error","useStyles","makeStyles","lyrics","lineHeight","whiteSpace","toggleSearchButton","right","top","LyricsDisplay","lyricsArtist","lyricsTitle","geniusUrl","classes","lyricsRef","useRef","searchInputRef","search","setSearch","searchShown","setSearchShown","instance","MarkJS","unmark","mark","focus","toggleSearchShown","s","InputGroup","FormControl","ref","currentTarget","placeholder","Append","Search","target","Loading","NoTrackPlaying","TrackPlaying","lyricDetails","item","name","artists","a","join","duration_ms","content","Welcome","api","process","spotify_authentication_route","siteUrl","LyricsView","invalidateToken","currentlyPlaying","setCurrentlyPlaying","setLyrics","checkSongTimeout","setCheckSongTimeout","updateCurrentPlaying","tokenValue","getMyCurrentPlayingTrack","then","currentlyPlayingObject","status","info","timeToRefresh","setTimeout","intervalCheck","spotifyId","parameters","fetch","Config","URLSearchParams","r","json","geniusGetLyrics","newLyrics","currently_playing_type","NotFound","SpotifyAuthorization","onNewToken","params","substr","accessToken","get","expiresAt","parseInt","MetaTags","titlePrefix","description","route","children","useMetaTags","charset","lang","links","rel","config","type","openGraph","image","site_name","App","setToken","setUser","tokenTimeout","setTokenTimeout","getMe","newUser","err","expiry","getTime","Date","credentials","newToken","access_token","expires_at","warn","clearToken","method","routes","routeResult","useRoutes","useRedirect","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.aa958be8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/spotify-logo-round.d154494c.png\";","module.exports = __webpack_public_path__ + \"static/media/banner.ba112450.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==\"","import React from \"react\";\nimport { navigate } from \"hookrouter\";\nimport { Button } from \"react-bootstrap\";\nimport SpotifyLogoRound from \"../img/spotify-logo-round.png\";\n\ninterface IProps {\n  user: SpotifyApi.CurrentUsersProfileResponse | null;\n  onLoggedInClick?: () => void;\n}\n\nconst SpotifyLoginStatusButton: React.FunctionComponent<IProps> = ({ user, onLoggedInClick }) => {\n  const loggedInStatusButtonClick = () => {\n    if (user === null) {\n      navigate(\"/spotify-authorization\");\n    } else {\n      if (onLoggedInClick) {\n        onLoggedInClick();\n      }\n    }\n  };\n\n  return (\n    <Button variant=\"outline-secondary\" onClick={loggedInStatusButtonClick}>\n      <img\n        src={\n          user !== null && user.images !== undefined && user.images.length > 0\n            ? user.images[0].url\n            : SpotifyLogoRound\n        }\n        alt={\n          user !== null && user.images !== undefined && user.images.length > 0\n            ? user.display_name + \" Logo\"\n            : \"Spotify Logo Round\"\n        }\n        style={{ height: 20, width: 20 }}\n        className=\"mr-2 rounded-circle\"\n      />\n      {user !== null ? user.display_name : \"Sign In With Spotify\"}\n    </Button>\n  );\n};\n\nexport default SpotifyLoginStatusButton;\n","import React from \"react\";\nimport { navigate, usePath } from \"hookrouter\";\nimport { Container, Nav, Navbar } from \"react-bootstrap\";\nimport SpotifyLoginStatusButton from \"../components/SpotifyLoginStatusButton\";\nimport BannerImage from \"../img/banner.png\";\n\nconst navbarLinks: { [key: string]: string } = {\n  \"/\": \"Home\",\n  \"/about\": \"About\"\n};\n\ninterface IProps {\n  user: SpotifyApi.UserObjectPrivate | null;\n  onLogout: () => void;\n}\n\nconst Navigation: React.FunctionComponent<IProps> = ({ user, onLogout }) => {\n  const currentPath = usePath();\n\n  const goTo = (location: string) => () => navigate(location);\n  const logoutCheck = () => {\n    const answer = window.confirm(\"Are you sure you want to logout?\");\n    if (answer) {\n      onLogout();\n    }\n  };\n\n  return (\n    <Navbar collapseOnSelect expand=\"md\" bg=\"light\" variant=\"light\" sticky=\"top\">\n      <Container>\n        <Navbar.Brand onClick={goTo(\"/\")}>\n          <img\n            src={BannerImage}\n            height=\"30\"\n            className=\"d-inline-block align-top\"\n            alt=\"Emotionify Banner Logo\"\n            style={{ cursor: \"pointer\" }}\n          />\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <Nav className=\"mr-auto\">\n            {Object.keys(navbarLinks).map(path => (\n              <Nav.Link key={path} href=\"#\" onClick={goTo(path)} active={currentPath === path}>\n                {navbarLinks[path]}\n              </Nav.Link>\n            ))}\n          </Nav>\n          <Nav>\n            <SpotifyLoginStatusButton user={user} onLoggedInClick={logoutCheck} />\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default Navigation;\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport GithubLogo from \"../img/github-logo.png\";\nimport \"./Footer.css\";\n\nconst Footer: React.FunctionComponent = () => {\n  return (\n    <footer className=\"footer d-flex align-items-center\">\n      <Container className=\"text-center\">\n        <div className=\"d-inline-flex align-items-center\">\n          <a\n            href=\"https://github.com/brentvollebregt/spotify-lyrics-viewer\"\n            className=\"d-flex align-items-center\"\n            style={{ padding: 5, cursor: \"pointer\" }}\n          >\n            <img src={GithubLogo} height=\"25\" alt=\"GitHub Source\" />\n            <span className=\"ml-2\">Source</span>\n          </a>\n          <span className=\"ml-2\">•</span>\n          <span className=\"ml-2\">\n            <a href=\"https://github.com/brentvollebregt\">Brent Vollebregt</a>\n          </span>\n          <span className=\"ml-2\">•</span>\n          <span className=\"ml-2\">\n            <a href=\"https://nitratine.net/\">Nitratine.net</a>\n          </span>\n        </div>\n      </Container>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport { Col, Container, Row } from \"react-bootstrap\";\n\nconst About: React.FunctionComponent = () => {\n  return (\n    <Container>\n      <Row className=\"justify-content-md-center\">\n        <Col className=\"col-md-10 col-lg-8\">\n          <h2 className=\"text-center\">About</h2>\n          <p>\n            Spotify Lyrics Viewer is a tool that allows you to view the lyrics of the current\n            playing song on Spotify.\n          </p>\n          <p>\n            To do this, we first log you into Spotify so we can see the current song playing. The\n            title and artist are then used to try and find the lyrics on{\" \"}\n            <a href=\"https://genius.com/\">GENIUS</a> and whatever lyrics matched the best are\n            displayed to you.\n          </p>\n          <p>\n            Please note that the lyrics returned may not be for the current playing song in some\n            situations due the the lyrics not existing on GENIUS or the fact that the current\n            playing songs title has some extra content to it aside from the actual title.\n          </p>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default About;\n","import React, { useEffect, useState } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport cogoToast from \"cogo-toast\";\nimport { Spinner } from \"react-bootstrap\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Slider, IconButton } from \"@material-ui/core\";\nimport { PlayArrow, Pause, SkipPrevious, SkipNext } from \"@material-ui/icons\";\n\nconst ProgressSlider = withStyles({\n  rail: {\n    borderRadius: 4,\n    height: 8\n  },\n  root: {\n    color: \"#52af77\",\n    height: 8\n  },\n  thumb: {\n    \"&:focus,&:hover,&$active\": {\n      boxShadow: \"inherit\"\n    },\n    backgroundColor: \"#fff\",\n    border: \"2px solid currentColor\",\n    height: 20,\n    marginLeft: -12,\n    marginTop: -6,\n    width: 20\n  },\n  track: {\n    borderRadius: 4,\n    height: 8\n  }\n})(Slider);\n\nconst responseError = (title: string, request: XMLHttpRequest) => {\n  const { hide } = cogoToast.error(JSON.parse(request.responseText).error.message, {\n    position: \"bottom-center\",\n    heading: title,\n    hideAfter: 20,\n    onClick: () => hide()\n  });\n};\n\ninterface IProps {\n  albumArtUrl?: string;\n  title?: string;\n  artist?: string;\n  album?: string;\n  durationMs?: number;\n  progressMs: number;\n  isPlaying: boolean;\n  spotifyToken?: string;\n}\n\nconst PlayerStatus: React.FunctionComponent<IProps> = ({\n  albumArtUrl,\n  title,\n  artist,\n  album,\n  durationMs,\n  progressMs,\n  isPlaying,\n  spotifyToken\n}) => {\n  const [progress, setProgress] = useState(0);\n  const [userSlidingProgress, setUserSlidingProgress] = useState(false);\n  const [smoothProgressTimer, setSmoothProgressTimer] = useState<NodeJS.Timeout | null>(null);\n\n  const duration = durationMs === undefined ? 0 : durationMs;\n\n  useEffect(() => {\n    // Use the current progress when the user is not sliding\n    if (!userSlidingProgress) {\n      setProgress(progressMs);\n    }\n  }, [userSlidingProgress, progressMs]);\n\n  useEffect(() => {\n    // Smoother progress bar\n    if (smoothProgressTimer !== null) {\n      clearTimeout(smoothProgressTimer);\n    }\n\n    const smoothingDelay = 500;\n    setSmoothProgressTimer(\n      setInterval(() => {\n        if (!userSlidingProgress && isPlaying) {\n          setProgress(value => Math.min(value + smoothingDelay, duration));\n        }\n      }, smoothingDelay)\n    );\n\n    return () => {\n      if (smoothProgressTimer !== null) {\n        clearTimeout(smoothProgressTimer);\n      }\n    };\n  }, [userSlidingProgress, isPlaying]);\n\n  const onUserStartSliding = () => setUserSlidingProgress(true);\n  const onUserFinishedSliding = () => {\n    setUserSlidingProgress(false);\n    if (spotifyToken) {\n      const spotifyApi = new SpotifyWebApi();\n      spotifyApi.setAccessToken(spotifyToken);\n      spotifyApi.seek(progress).catch(e => responseError(\"Failed to Seek\", e));\n    }\n  };\n  const onUserSlide = (event: React.ChangeEvent<{}>, value: number | number[]) =>\n    setProgress(Array.isArray(value) ? value[0] : value);\n\n  const onSkipPrevious = () => {\n    if (spotifyToken) {\n      const spotifyApi = new SpotifyWebApi();\n      spotifyApi.setAccessToken(spotifyToken);\n      spotifyApi.skipToPrevious().catch(e => responseError(\"Failed to Skip to Previous Song\", e));\n    }\n  };\n  const onSkipNext = () => {\n    if (spotifyToken) {\n      const spotifyApi = new SpotifyWebApi();\n      spotifyApi.setAccessToken(spotifyToken);\n      spotifyApi.skipToNext().catch(e => {\n        responseError(\"Failed to Skip to Next Song\", e);\n      });\n    }\n  };\n  const onPlayPauseToggle = () => {\n    if (spotifyToken) {\n      const spotifyApi = new SpotifyWebApi();\n      spotifyApi.setAccessToken(spotifyToken);\n      if (isPlaying) {\n        spotifyApi.pause().catch(e => responseError(\"Failed to Pause\", e));\n      } else {\n        spotifyApi.play().catch(e => responseError(\"Failed to Play\", e));\n      }\n    }\n  };\n\n  return (\n    <div\n      style={{\n        display: \"grid\",\n        gridTemplateColumns: \"130px 230px 1fr\",\n        maxWidth: 700,\n        margin: \"auto\",\n        background: \"#f3f3f3\"\n      }}\n    >\n      <div className=\"m-1\">\n        {albumArtUrl ? (\n          <img src={albumArtUrl} alt={`${album} Album Art`} className=\"w-100\" />\n        ) : (\n          <div className=\"d-flex justify-content-center align-items-center h-100\">\n            <Spinner animation=\"border\" />\n          </div>\n        )}\n      </div>\n\n      <div className=\"ml-1 d-flex flex-column justify-content-center\">\n        <p className=\"m-1\">{title}</p>\n        <p className=\"m-1\">{artist}</p>\n        <p className=\"m-1\">{album}</p>\n      </div>\n\n      <div className=\"p-3 align-self-center\">\n        <div>\n          <div className=\"text-center\">\n            <IconButton onClick={onSkipPrevious} className=\"p-2\">\n              <SkipPrevious fontSize=\"large\" />\n            </IconButton>\n            <IconButton onClick={onPlayPauseToggle} className=\"p-2\">\n              {isPlaying ? <PlayArrow fontSize=\"large\" /> : <Pause fontSize=\"large\" />}\n            </IconButton>\n            <IconButton onClick={onSkipNext} className=\"p-2\">\n              <SkipNext fontSize=\"large\" />\n            </IconButton>\n          </div>\n          <ProgressSlider\n            valueLabelDisplay=\"off\"\n            value={progress}\n            min={0}\n            max={duration}\n            onMouseDown={onUserStartSliding}\n            onMouseUp={onUserFinishedSliding}\n            onChange={onUserSlide}\n            className=\"py-1\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PlayerStatus;\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport PlayerStatus from \"./sharedComponents/PlayerStatus\";\nimport SpotifyLogoRound from \"../../img/spotify-logo-round.png\";\n\nconst adDuration = 30 * 1000; // Typically 30s\n\ninterface IProps {\n  current: SpotifyApi.CurrentlyPlayingObject;\n  token?: string;\n}\n\nconst Advertisement: React.FunctionComponent<IProps> = ({ current, token }) => {\n  return (\n    <Container>\n      <PlayerStatus\n        albumArtUrl={SpotifyLogoRound}\n        title=\"Advertisement\"\n        artist=\"Spotify\"\n        album=\"\"\n        durationMs={adDuration}\n        progressMs={current.progress_ms !== null ? current.progress_ms : 0}\n        isPlaying={current.is_playing}\n        spotifyToken={token}\n      />\n    </Container>\n  );\n};\n\nexport default Advertisement;\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nconst Error: React.FunctionComponent = () => {\n  return (\n    <Container className=\"text-center\">\n      <h2>Error</h2>\n      <p>An unexpected error ocurred</p>\n    </Container>\n  );\n};\n\nexport default Error;\n","import React, { useEffect, useRef, useState, RefObject } from \"react\";\nimport MarkJS from \"mark.js\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport { Button, InputGroup, FormControl, Spinner, FormControlProps } from \"react-bootstrap\";\nimport { ReplaceProps, BsPrefixProps } from \"react-bootstrap/helpers\";\nimport \"./LyricsDisplay.css\";\n\nconst useStyles = makeStyles({\n  lyrics: {\n    fontSize: 18,\n    lineHeight: \"1.7em\",\n    whiteSpace: \"pre-wrap\"\n  },\n  root: {\n    margin: \"auto\",\n    maxWidth: 700,\n    position: \"relative\"\n  },\n  toggleSearchButton: {\n    margin: \"-6px -6px 0 0\",\n    position: \"absolute\",\n    right: 0,\n    top: 0\n  }\n});\n\ninterface IProps {\n  lyrics?: string;\n  lyricsArtist?: string;\n  lyricsTitle?: string;\n  geniusUrl?: string;\n}\n\nconst LyricsDisplay: React.FunctionComponent<IProps> = ({\n  lyrics,\n  lyricsArtist,\n  lyricsTitle,\n  geniusUrl\n}) => {\n  const classes = useStyles();\n  const lyricsRef = useRef<HTMLDivElement | null>(null);\n  const searchInputRef = useRef<HTMLInputElement | null>(null);\n  const [search, setSearch] = useState(\"\");\n  const [searchShown, setSearchShown] = useState(false);\n\n  useEffect(() => {\n    // Highlight text when the search is changed\n    if (lyricsRef.current !== null) {\n      const instance = new MarkJS(lyricsRef.current);\n      instance.unmark();\n      if (search !== \"\") {\n        instance.mark(search);\n      }\n    }\n  }, [search, lyrics]);\n\n  useEffect(() => {\n    // Focus search input when the search button is clicked\n    if (searchShown && searchInputRef.current !== null) {\n      searchInputRef.current.focus();\n    }\n  }, [searchShown]);\n\n  const onUserSearch = (\n    event: React.FormEvent<ReplaceProps<\"input\", BsPrefixProps<\"input\"> & FormControlProps>>\n  ) => setSearch(event.currentTarget.value === undefined ? \"\" : event.currentTarget.value);\n  const toggleSearchShown = () => setSearchShown(s => !s);\n\n  return (\n    <div className={`${classes.root} text-center`}>\n      {searchShown ? (\n        <InputGroup className=\"mb-3\">\n          <FormControl\n            ref={searchInputRef as RefObject<any>}\n            onChange={onUserSearch}\n            value={search}\n            placeholder=\"Search lyrics you heard to find your position...\"\n            className=\"text-center\"\n          />\n          <InputGroup.Append>\n            <Button variant=\"outline-secondary\" onClick={toggleSearchShown}>\n              Close\n            </Button>\n          </InputGroup.Append>\n        </InputGroup>\n      ) : (\n        <IconButton className={classes.toggleSearchButton} onClick={toggleSearchShown}>\n          <Search fontSize=\"small\" />\n        </IconButton>\n      )}\n      {lyrics ? (\n        <div>\n          <div className={classes.lyrics} ref={lyricsRef}>\n            {lyrics}\n          </div>\n          <div className=\"mt-4 text-left\">\n            <a href={`https://genius.com${geniusUrl}`} target=\"_blank\">\n              Lyrics for {lyricsTitle} by {lyricsArtist}\n            </a>\n          </div>\n        </div>\n      ) : (\n        <Spinner animation=\"border\" />\n      )}\n    </div>\n  );\n};\n\nexport default LyricsDisplay;\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport PlayerStatus from \"./sharedComponents/PlayerStatus\";\nimport LyricsDisplay from \"./sharedComponents/LyricsDisplay\";\n\nconst Loading: React.FunctionComponent = () => {\n  return (\n    <Container>\n      <PlayerStatus\n        albumArtUrl={undefined}\n        title=\"\"\n        artist=\"\"\n        album=\"\"\n        durationMs={0}\n        progressMs={0}\n        isPlaying={false}\n        spotifyToken={undefined}\n      />\n      <div className=\"mt-3\">\n        <LyricsDisplay\n          lyrics={undefined}\n          lyricsArtist={undefined}\n          lyricsTitle={undefined}\n          geniusUrl={undefined}\n        />\n      </div>\n    </Container>\n  );\n};\n\nexport default Loading;\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nconst NoTrackPlaying: React.FunctionComponent = () => {\n  return (\n    <Container className=\"text-center\">\n      <h2>No Song is Playing</h2>\n      <p>\n        A song must be playing on Spotify for lyrics to be displayed.\n        <br />\n        Also make sure you are not using a private session.\n      </p>\n    </Container>\n  );\n};\n\nexport default NoTrackPlaying;\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport PlayerStatus from \"./sharedComponents/PlayerStatus\";\nimport LyricsDisplay from \"./sharedComponents/LyricsDisplay\";\nimport { ILyricDetails } from \"./\";\n\ninterface IProps {\n  current: SpotifyApi.CurrentlyPlayingObject;\n  lyricDetails?: ILyricDetails;\n  token?: string;\n}\n\nconst TrackPlaying: React.FunctionComponent<IProps> = ({ current, lyricDetails, token }) => {\n  const albumArtUrl = current.item ? current.item.album.images[0].url : undefined;\n  const title = current.item ? current.item.name : undefined;\n  const artist = current.item ? current.item.artists.map(a => a.name).join(\", \") : undefined;\n  const album = current.item ? current.item.album.name : undefined;\n  const durationMs = current.item !== null ? current.item.duration_ms : 0;\n  const progressMs = current.progress_ms !== null ? current.progress_ms : 0;\n  const isPlaying = current.is_playing;\n\n  return (\n    <Container>\n      <PlayerStatus\n        albumArtUrl={albumArtUrl}\n        title={title}\n        artist={artist}\n        album={album}\n        durationMs={durationMs}\n        progressMs={progressMs}\n        isPlaying={isPlaying}\n        spotifyToken={token}\n      />\n      <div className=\"mt-3\">\n        <LyricsDisplay\n          lyrics={lyricDetails ? lyricDetails.content : undefined}\n          lyricsArtist={lyricDetails ? lyricDetails.artist : undefined}\n          lyricsTitle={lyricDetails ? lyricDetails.title : undefined}\n          geniusUrl={lyricDetails ? lyricDetails.geniusUrl : undefined}\n        />\n      </div>\n    </Container>\n  );\n};\n\nexport default TrackPlaying;\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport SpotifyLoginStatusButton from \"../../components/SpotifyLoginStatusButton\";\n\nconst Welcome: React.FunctionComponent = () => {\n  return (\n    <Container className=\"text-center\">\n      <h2>Spotify Lyrics Viewer</h2>\n      <p>To get access to your current playing song, you need to sign into Spotify.</p>\n      <SpotifyLoginStatusButton user={null} />\n    </Container>\n  );\n};\n\nexport default Welcome;\n","export default {\n  api: {\n    root: process.env.REACT_APP_API_ROOT ? process.env.REACT_APP_API_ROOT : window.location.origin,\n    spotify_authentication_route: \"/api/spotify/authenticate\"\n  },\n  siteUrl: \"https://spotify-lyrics-viewer.nitratine.net\"\n};\n","import React, { useEffect, useState } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport cogoToast from \"cogo-toast\";\nimport Advertisement from \"./Advertisement\";\nimport Error from \"./Error\";\nimport Loading from \"./Loading\";\nimport NoTrackPlaying from \"./NoTrackPlaying\";\nimport TrackPlaying from \"./TrackPlaying\";\nimport Welcome from \"./Welcome\";\nimport { geniusGetLyrics } from \"../../api\";\nimport { IToken } from \"../../models\";\n\nconst periodicTrackCheckDelayMs = 5000;\n\nexport interface ILyricDetails {\n  content: string;\n  spotifyId: string;\n  artist: string;\n  title: string;\n  geniusUrl: string;\n}\n\ninterface IProps {\n  token: IToken | null;\n  invalidateToken: () => void;\n}\n\nconst LyricsView: React.FunctionComponent<IProps> = ({ token, invalidateToken }) => {\n  const [currentlyPlaying, setCurrentlyPlaying] = useState<\n    SpotifyApi.CurrentlyPlayingObject | \"NotPlaying\" | \"Loading\" | \"Error\"\n  >(\"Loading\");\n  const [lyrics, setLyrics] = useState<ILyricDetails | undefined>(undefined);\n  const [checkSongTimeout, setCheckSongTimeout] = useState<NodeJS.Timeout | null>(null);\n\n  const updateCurrentPlaying = (tokenValue: string) => {\n    const spotifyApi = new SpotifyWebApi();\n    spotifyApi.setAccessToken(tokenValue);\n    spotifyApi\n      .getMyCurrentPlayingTrack()\n      .then((currentlyPlayingObject: SpotifyApi.CurrentlyPlayingObject | \"\") => {\n        if (currentlyPlayingObject === \"\") {\n          setCurrentlyPlaying(\"NotPlaying\"); // HTTP 204 when no track is currently playing\n        } else {\n          setCurrentlyPlaying(currentlyPlayingObject);\n        }\n      })\n      .catch((request: XMLHttpRequest) => {\n        if (request.status === 401) {\n          invalidateToken();\n          const { hide } = cogoToast.info(\"You have been logged out\", {\n            position: \"bottom-center\",\n            heading: \"Token expired\",\n            hideAfter: 20,\n            onClick: () => hide()\n          });\n        } else {\n          setCurrentlyPlaying(\"Error\");\n          const { hide } = cogoToast.error(request.responseText, {\n            position: \"bottom-center\",\n            heading: \"Failed to Get Current Song\",\n            hideAfter: 20,\n            onClick: () => hide()\n          });\n        }\n      });\n  };\n\n  useEffect(() => {\n    // Get currently playing song on load (when the token changes)\n    if (token !== null) {\n      updateCurrentPlaying(token.value);\n    } else {\n      setCurrentlyPlaying(\"Loading\");\n    }\n  }, [token]);\n\n  useEffect(() => {\n    // Setup a check for a new song at the end of the current song\n    if (checkSongTimeout !== null) {\n      clearTimeout(checkSongTimeout);\n    }\n\n    if (\n      currentlyPlaying !== \"NotPlaying\" &&\n      currentlyPlaying !== \"Loading\" &&\n      currentlyPlaying !== \"Error\" &&\n      currentlyPlaying.item\n    ) {\n      const timeToRefresh =\n        currentlyPlaying.item.duration_ms -\n        (currentlyPlaying.progress_ms === null ? 0 : currentlyPlaying.progress_ms) +\n        500; // (duration - progress) - 500ms\n      setCheckSongTimeout(\n        setTimeout(() => {\n          if (token !== null) {\n            updateCurrentPlaying(token.value);\n          }\n        }, timeToRefresh)\n      );\n    }\n\n    return () => {\n      if (checkSongTimeout !== null) {\n        clearTimeout(checkSongTimeout);\n      }\n    };\n  }, [currentlyPlaying]);\n\n  useEffect(() => {\n    // Setup timers to periodically check for a new song (in case someone skips)\n    const intervalCheck = setInterval(() => {\n      if (token !== null) {\n        updateCurrentPlaying(token.value);\n      }\n    }, periodicTrackCheckDelayMs);\n\n    return () => clearTimeout(intervalCheck);\n  }, [token]);\n\n  useEffect(() => {\n    // Get new lyrics when the current playing item changes\n    if (\n      currentlyPlaying === \"NotPlaying\" ||\n      currentlyPlaying === \"Loading\" ||\n      currentlyPlaying === \"Error\" ||\n      !currentlyPlaying.item\n    ) {\n      setLyrics(undefined);\n    } else {\n      if (lyrics === undefined || currentlyPlaying.item.id !== lyrics.spotifyId) {\n        setLyrics(undefined);\n        // Get lyrics\n        geniusGetLyrics(currentlyPlaying.item.artists[0].name, currentlyPlaying.item.name).then(\n          newLyrics => {\n            if (currentlyPlaying.item !== null) {\n              setLyrics({\n                artist: newLyrics.artist,\n                content: newLyrics.lyrics,\n                geniusUrl: newLyrics.geniusUrl,\n                spotifyId: currentlyPlaying.item.id,\n                title: newLyrics.title\n              });\n            }\n          }\n        );\n      }\n    }\n  }, [currentlyPlaying]);\n\n  if (token === null) {\n    return <Welcome />;\n  } else if (currentlyPlaying === \"Loading\") {\n    return <Loading />;\n  } else if (currentlyPlaying === \"NotPlaying\") {\n    return <NoTrackPlaying />;\n  } else if (currentlyPlaying === \"Error\") {\n    return <Error />;\n  } else if (currentlyPlaying.currently_playing_type === \"ad\") {\n    return (\n      <Advertisement current={currentlyPlaying} token={token === null ? undefined : token.value} />\n    );\n  } else {\n    return (\n      <TrackPlaying\n        current={currentlyPlaying}\n        lyricDetails={lyrics}\n        token={token === null ? undefined : token.value}\n      />\n    );\n  }\n};\n\nexport default LyricsView;\n","import Config from \"../config\";\nimport { ITokenExpiryPair, ILyricsAndDetails } from \"../../../src/dto\";\n\nexport function geniusGetLyrics(artist: string, title: string): Promise<ILyricsAndDetails> {\n  const parameters = { artist, title };\n  return fetch(`${Config.api.root}/api/genius/lyrics?${new URLSearchParams(parameters)}`).then(r =>\n    r.json()\n  );\n}\n\nexport function spotifyGetCurrentToken(): Promise<ITokenExpiryPair | null> {\n  return fetch(`${Config.api.root}/api/spotify/token`, {\n    credentials: \"include\"\n  }).then(r => {\n    if (r.status === 200) {\n      return r.json();\n    } else {\n      return null;\n    }\n  });\n}\n\nexport function spotifyRefreshToken(): Promise<ITokenExpiryPair | null> {\n  return fetch(`${Config.api.root}/api/spotify/refresh-token`, {\n    credentials: \"include\"\n  }).then(r => {\n    if (r.status === 200) {\n      return r.json();\n    } else {\n      return null;\n    }\n  });\n}\n\nexport function deleteSession(): Promise<Response> {\n  return fetch(`${Config.api.root}/api/session`, {\n    credentials: \"include\",\n    method: \"DELETE\"\n  });\n}\n","import React from \"react\";\n\nconst NotFound: React.FunctionComponent = () => {\n  return (\n    <div>\n      <h1>Not Found</h1>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport { navigate } from \"hookrouter\";\nimport { Container, Spinner } from \"react-bootstrap\";\nimport Config from \"../../config\";\n\ninterface IProps {\n  onNewToken: (accessToken: string, expiresIn: number) => void;\n}\n\nconst SpotifyAuthorization: React.FunctionComponent<IProps> = ({ onNewToken }) => {\n  const { search } = window.location;\n\n  let message = <></>;\n\n  if (search === \"\") {\n    // No token in URL, redirect user to request for one\n    window.location.href = Config.api.root + Config.api.spotify_authentication_route;\n    message = (\n      <>\n        <Spinner animation=\"border\" />\n        <p className=\"lead\">Redirecting</p>\n      </>\n    );\n  } else {\n    // We have received the token, read it from the URL\n    const params = new URLSearchParams(search.substr(1));\n    const accessToken = params.get(\"access_token\");\n    const expiresAt = params.get(\"expires_at\");\n\n    if (accessToken !== null && expiresAt !== null) {\n      // All parameters are present\n      onNewToken(accessToken, parseInt(expiresAt, 10));\n      navigate(\"/\");\n      message = <p className=\"lead\">Token received</p>;\n    } else {\n      message = <p className=\"lead\">Incorrect URL parameters</p>;\n    }\n  }\n\n  return (\n    <Container className=\"text-center\">\n      <h1>Spotify Authorization</h1>\n      {message}\n    </Container>\n  );\n};\n\nexport default SpotifyAuthorization;\n","import React from \"react\";\nimport useMetaTags from \"react-metatags-hook\";\nimport BannerImage from \"../img/banner.png\";\nimport config from \"../config\";\n\ninterface IProps {\n  titlePrefix?: string;\n  description: string;\n  route: string;\n}\n\nconst MetaTags: React.FunctionComponent<React.PropsWithChildren<IProps>> = ({\n  titlePrefix,\n  description,\n  route,\n  children\n}) => {\n  const title = (titlePrefix || \"\") + \"Spotify Lyrics Viewer\";\n  useMetaTags({\n    title,\n    description,\n    charset: \"utf-8\",\n    lang: \"en\",\n    links: [\n      { rel: \"canonical\", href: config.siteUrl + route },\n      { rel: \"icon\", type: \"image/ico\", href: \"/favicon.ico\" },\n      { rel: \"apple-touch-icon\", type: \"image/png\", href: \"/logo.png\" }\n    ],\n    openGraph: {\n      title,\n      image: config.siteUrl + BannerImage,\n      site_name: \"Spotify Lyrics Viewer\"\n    }\n  });\n\n  return <>{children}</>;\n};\n\nexport default MetaTags;\n","import React, { useEffect, useState } from \"react\";\nimport { useRoutes, useRedirect } from \"hookrouter\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport cogoToast from \"cogo-toast\";\nimport Navigation from \"./components/Navigation\";\nimport Footer from \"./components/Footer\";\nimport About from \"./pages/About\";\nimport LyricsView from \"./pages/LyricsView\";\nimport NotFound from \"./pages/NotFound\";\nimport SpotifyAuthorization from \"./pages/SpotifyAuthorization\";\nimport { deleteSession, spotifyGetCurrentToken, spotifyRefreshToken } from \"./api\";\nimport { IToken } from \"./models\";\nimport MetaTags from \"./components/MetaTags\";\n\nconst App: React.FC = () => {\n  const [token, setToken] = useState<IToken | null>(null);\n  const [user, setUser] = useState<SpotifyApi.UserObjectPrivate | null>(null);\n  const [tokenTimeout, setTokenTimeout] = useState<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    // Request the user when the token changes\n    if (token === null) {\n      setUser(null);\n    } else {\n      const spotifyApi = new SpotifyWebApi();\n      spotifyApi.setAccessToken(token.value);\n      spotifyApi\n        .getMe()\n        .then(newUser => setUser(newUser))\n        .catch(err => {\n          const { hide } = cogoToast.error(\n            \"Could not get your profile. Make sure you are connected to the internet and that your token is valid.\",\n            {\n              position: \"bottom-center\",\n              heading: \"Error When Fetching Your Profile\",\n              hideAfter: 20,\n              onClick: () => hide()\n            }\n          );\n        });\n    }\n  }, [token]);\n\n  useEffect(() => {\n    // Request for a new token before expiry\n    if (tokenTimeout !== null) {\n      clearTimeout(tokenTimeout);\n    }\n\n    if (token !== null) {\n      const timeToRefresh = token.expiry.getTime() - new Date().getTime() - 60 * 1000; // (future - now) - 1min\n      setTokenTimeout(\n        setTimeout(() => {\n          spotifyRefreshToken().then(newToken => {\n            if (newToken !== null) {\n              onNewToken(newToken.access_token, newToken.expires_at);\n            } else {\n              const { hide } = cogoToast.warn(\n                \"Unable to keep logged into Spotify. Please log back in.\",\n                {\n                  position: \"bottom-center\",\n                  heading: \"Spotify Login Expired\",\n                  hideAfter: 20,\n                  onClick: () => hide()\n                }\n              );\n              clearToken();\n            }\n          });\n        }, timeToRefresh)\n      );\n    }\n\n    return () => {\n      if (tokenTimeout !== null) {\n        clearTimeout(tokenTimeout);\n      }\n    };\n  }, [token]);\n\n  useEffect(() => {\n    // Request for a token on load to see if data is already in the state\n    spotifyGetCurrentToken().then(newToken => {\n      if (newToken !== null) {\n        onNewToken(newToken.access_token, newToken.expires_at);\n      }\n    });\n  }, []);\n\n  const onNewToken = (accessToken: string, expiresAt: number) => {\n    setToken({ expiry: new Date(expiresAt), value: accessToken });\n  };\n  const clearToken = () => {\n    setToken(null);\n    deleteSession();\n  };\n\n  const routes = {\n    \"/\": () => (\n      <MetaTags\n        route=\"/\"\n        description=\"View the lyrics of the current song playing on your Spotify account in your browser.\"\n      >\n        <LyricsView token={token} invalidateToken={clearToken} />\n      </MetaTags>\n    ),\n    \"/about\": () => (\n      <MetaTags\n        route=\"/about\"\n        titlePrefix=\"About - \"\n        description=\"Spotify Lyrics Viewer is a tool that allows you to view the lyrics of the current playing song on Spotify.\"\n      >\n        <About />\n      </MetaTags>\n    ),\n    \"/spotify-authorization\": () => <SpotifyAuthorization onNewToken={onNewToken} />,\n    \"/spotify-authorization/\": () => <SpotifyAuthorization onNewToken={onNewToken} />\n  };\n  const routeResult = useRoutes(routes);\n  useRedirect(\"/about/\", \"/about\");\n\n  return (\n    <>\n      <Navigation user={user} onLogout={clearToken} />\n      <div className=\"my-3\">{routeResult || <NotFound />}</div>\n      <Footer />\n    </>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}